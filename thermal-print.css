/* Thermal Receipt Printer Optimizations */
@media print {
    /* Reset all default browser print styles */
    * {
        margin: 0 !important;
        padding: 0 !important;
        box-sizing: border-box !important;
    }
    
    /* Hide everything except print content */
    body * {
        visibility: hidden;
    }
    
    #print-section, #print-section * {
        visibility: visible;
    }
    
    /* Critical: Set page to thermal receipt size */
    @page {
        size: 80mm auto; /* Width fixed, height auto-adjusts */
        margin: 0 !important; /* Remove all margins */
        padding: 0 !important;
    }
    
    /* Body optimizations for thermal printing */
    body {
        margin: 0 !important;
        padding: 0 !important;
        width: 80mm !important;
        background: white !important;
        color: black !important;
        font-family: 'Courier New', monospace !important;
        font-size: 10pt !important;
        line-height: 1.2 !important;
    }
    
    /* Print section positioning and sizing */
    #print-section {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 80mm !important;
        max-width: 80mm !important;
        margin: 0 !important;
        padding: 2mm !important; /* Minimal padding for readability */
        background: white !important;
        color: black !important;
        font-size: 10pt !important;
        line-height: 1.2 !important;
        overflow: visible !important;
    }
    
    /* Ensure no page breaks within receipt */
    #print-section * {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    /* Remove any extra spacing from elements */
    #print-section div,
    #print-section p,
    #print-section h1,
    #print-section h2,
    #print-section span {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* Optimize text for thermal printing */
    #print-section {
        font-weight: normal !important;
        text-rendering: optimizeSpeed !important;
        -webkit-font-smoothing: none !important;
        -moz-osx-font-smoothing: unset !important;
    }
    
    /* Ensure borders print correctly on thermal */
    #print-section .border-black,
    #print-section .border-t-2,
    #print-section .border-b-2,
    #print-section .border-y-2 {
        border-color: black !important;
        border-style: solid !important;
    }
    
    /* Force minimal spacing between sections */
    #print-section > div {
        margin-bottom: 1mm !important;
    }
    
    #print-section > div:last-child {
        margin-bottom: 0 !important;
    }
    
    /* Prevent any flex/grid issues in print */
    #print-section .flex {
        display: block !important;
    }
    
    #print-section .flex.justify-between {
        display: flex !important;
        justify-content: space-between !important;
    }
    
    /* Ensure proper text sizing for thermal */
    #print-section .text-xs { font-size: 8pt !important; }
    #print-section .text-sm { font-size: 9pt !important; }
    #print-section .text-lg { font-size: 12pt !important; }
    #print-section .text-xl { font-size: 14pt !important; }
    #print-section .text-2xl { font-size: 16pt !important; }
    
    /* Remove any transforms or animations */
    #print-section * {
        transform: none !important;
        animation: none !important;
        transition: none !important;
    }
}

/* Additional thermal-specific optimizations */
@media print and (max-width: 80mm) {
    /* Ultra-compact mode for very small thermal printers */
    #print-section {
        font-size: 8pt !important;
        padding: 1mm !important;
    }
    
    #print-section .text-2xl { font-size: 12pt !important; }
    #print-section .text-xl { font-size: 10pt !important; }
    #print-section .text-lg { font-size: 9pt !important; }
}