/* Thermal Receipt Printer Optimizations */
@media print {
    /* Reset all default browser print styles */
    * {
        margin: 0 !important;
        padding: 0 !important;
        box-sizing: border-box !important;
    }
    
    /* Hide everything except print content */
    body * {
        visibility: hidden;
    }
    
    #print-section, #print-section * {
        visibility: visible;
    }
    
    /* Critical: Set page to thermal receipt size */
    @page {
        size: 80mm auto; /* Width fixed, height auto-adjusts */
        margin: 0 !important; /* Remove all margins */
        padding: 0 !important;
    }
    
    /* Body optimizations for thermal printing - ENHANCED CLARITY */
    body {
        margin: 0 !important;
        padding: 0 !important;
        width: 80mm !important;
        background: white !important;
        color: black !important;
        font-family: 'Courier New', 'Consolas', 'Monaco', monospace !important; /* Better font stack */
        font-size: 11pt !important; /* Slightly larger for clarity */
        line-height: 1.3 !important; /* Better line spacing */
        font-weight: bold !important; /* Bold for thermal clarity */
    }
    
    /* Print section positioning and sizing - ENHANCED CLARITY */
    #print-section {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 80mm !important;
        max-width: 80mm !important;
        margin: 0 !important;
        padding: 3mm !important; /* Slightly more padding for readability */
        background: white !important;
        color: black !important;
        font-size: 11pt !important; /* Larger base font */
        line-height: 1.3 !important; /* Better spacing */
        overflow: visible !important;
        font-family: 'Courier New', 'Consolas', 'Monaco', monospace !important;
        font-weight: bold !important; /* Bold for thermal clarity */
    }
    
    /* Ensure no page breaks within receipt */
    #print-section * {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    /* Remove any extra spacing from elements */
    #print-section div,
    #print-section p,
    #print-section h1,
    #print-section h2,
    #print-section span {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* Optimize text for thermal printing - ENHANCED CLARITY */
    #print-section {
        font-weight: bold !important; /* Bold text prints clearer on thermal */
        text-rendering: optimizeLegibility !important; /* Better text rendering */
        -webkit-font-smoothing: none !important; /* Disable smoothing for sharper text */
        -moz-osx-font-smoothing: unset !important;
        -webkit-text-stroke: 0.1px black !important; /* Slight text stroke for clarity */
        letter-spacing: 0.5px !important; /* Improve character spacing */
        word-spacing: 1px !important; /* Better word separation */
    }
    
    /* Ensure borders print correctly on thermal */
    #print-section .border-black,
    #print-section .border-t-2,
    #print-section .border-b-2,
    #print-section .border-y-2 {
        border-color: black !important;
        border-style: solid !important;
    }
    
    /* Force minimal spacing between sections */
    #print-section > div {
        margin-bottom: 1mm !important;
    }
    
    #print-section > div:last-child {
        margin-bottom: 0 !important;
    }
    
    /* Prevent any flex/grid issues in print */
    #print-section .flex {
        display: block !important;
    }
    
    #print-section .flex.justify-between {
        display: flex !important;
        justify-content: space-between !important;
    }
    
    /* Ensure proper text sizing for thermal - ENHANCED CLARITY */
    #print-section .text-xs { font-size: 9pt !important; font-weight: bold !important; }
    #print-section .text-sm { font-size: 10pt !important; font-weight: bold !important; }
    #print-section .text-lg { font-size: 13pt !important; font-weight: bold !important; }
    #print-section .text-xl { font-size: 15pt !important; font-weight: bold !important; }
    #print-section .text-2xl { font-size: 17pt !important; font-weight: bold !important; }
    
    /* Remove any transforms or animations */
    #print-section * {
        transform: none !important;
        animation: none !important;
        transition: none !important;
    }
}

/* Additional thermal-specific optimizations */
@media print and (max-width: 80mm) {
    /* Ultra-compact mode for very small thermal printers */
    #print-section {
        font-size: 8pt !important;
        padding: 1mm !important;
    }
    
    #print-section .text-2xl { font-size: 12pt !important; }
    #print-section .text-xl { font-size: 10pt !important; }
    #print-section .text-lg { font-size: 9pt !important; }
}